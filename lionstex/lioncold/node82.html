<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Initialisation of proc[0]</TITLE>
<META NAME="description" CONTENT="Initialisation of proc[0]">
<META NAME="keywords" CONTENT="lionc">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="lionc.css">

<LINK REL="next" HREF="node83.html">
<LINK REL="previous" HREF="node81.html">
<LINK REL="up" HREF="node77.html">
<LINK REL="next" HREF="node83.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html1718"
  HREF="node83.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/lib/latex2html/icons/next.png"></A> 
<A NAME="tex2html1714"
  HREF="node77.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/lib/latex2html/icons/up.png"></A> 
<A NAME="tex2html1708"
  HREF="node81.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/lib/latex2html/icons/prev.png"></A> 
<A NAME="tex2html1716"
  HREF="node4.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="file:/usr/lib/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html1719"
  HREF="node83.html">The story continues ...</A>
<B> Up:</B> <A NAME="tex2html1715"
  HREF="node77.html">Getting Started</A>
<B> Previous:</B> <A NAME="tex2html1709"
  HREF="node81.html">Processes</A>
 &nbsp; <B>  <A NAME="tex2html1717"
  HREF="node4.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION000105000000000000000">
Initialisation of proc[0]</A>
</H2>

<P>
The explicit initialisation of the
structure ``proc[0]'' is performed starting at line 1589. Only four elements
are changed from the overall initial
value of zero:

<P>
<DL>
<DT><STRONG>(a)</STRONG></DT>
<DD>``p_stat'' is set to ``SRUN'' which
 implies that process 0 is
 ``ready to run'';

<P>
</DD>
<DT><STRONG>(b)</STRONG></DT>
<DD>``p_flag'' is set to show both
 ``SLOAD'' and ``SSYS''. The former
 implies that the process is to
 be found in core (it has not
 been swapped out onto the disk),
 and the second, that it should
 never be swapped out;

<P>
</DD>
<DT><STRONG>(c)</STRONG></DT>
<DD>``p_size'' is set to ``USIZE'';

<P>
</DD>
<DT><STRONG>(d)</STRONG></DT>
<DD>``p_addr'' is set to the contents
 of the kernel segmentation address register #6.
</DD>
</DL>

<P>
It will be seen that process #0 has
acquired an area of ``USIZE'' blocks
(exactly the size of a ``per process
data area'') which begins immediately
after the official end (``_end'') of the
operating system data area.

<P>
The ordinal number of the first block
of this area has been stored for future
reference in ``p_addr''. This area,
which was cleared to zero in ``start''
(0661), contains a single copy of the
user structure called ``u''.

<P>
On line 1593, the address of ``proc[0]''
is stored in ``u.u_procp'', i.e. the
``proc'' structure and the ``u'' structure
are mutually linked.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html1718"
  HREF="node83.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/lib/latex2html/icons/next.png"></A> 
<A NAME="tex2html1714"
  HREF="node77.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/lib/latex2html/icons/up.png"></A> 
<A NAME="tex2html1708"
  HREF="node81.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/lib/latex2html/icons/prev.png"></A> 
<A NAME="tex2html1716"
  HREF="node4.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="file:/usr/lib/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html1719"
  HREF="node83.html">The story continues ...</A>
<B> Up:</B> <A NAME="tex2html1715"
  HREF="node77.html">Getting Started</A>
<B> Previous:</B> <A NAME="tex2html1709"
  HREF="node81.html">Processes</A>
 &nbsp; <B>  <A NAME="tex2html1717"
  HREF="node4.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>

2010-05-03
</ADDRESS>
</BODY>
</HTML>
